(function(t){function e(e){for(var a,l,r=e[0],o=e[1],c=e[2],d=0,b=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&b.push(i[l][0]),i[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(b.length)b.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=n[0]))}return t}var a={},i={app:0},s=[];function l(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=a,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(n,a,function(e){return t[e]}.bind(null,a));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=o;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"03d8":function(t,e,n){"use strict";n("48ed")},"15b9":function(t,e,n){"use strict";n("5018")},"1b4b":function(t,e,n){"use strict";n("dcac")},4682:function(t,e,n){"use strict";n("c767")},"48ed":function(t,e,n){},5018:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("div",{staticClass:"view-box burst-view"},[a("router-view")],1),a("footer",{staticClass:"footer"},[a("router-link",{attrs:{to:"/"}},[a("b",{staticClass:"iconfont"},[t._v("")]),t._v("记账")]),a("router-link",{attrs:{to:"/label"}},[a("b",{staticClass:"iconfont"},[t._v("")]),t._v("标签")]),a("router-link",{attrs:{to:"/stati"}},[a("b",{staticClass:"iconfont"},[t._v("")]),t._v("统计")])],1),t.isMack?a("div",{staticClass:"mask"},[a("p",{staticClass:"mask-text"},[t._v("请使用手机扫码打开本页")]),a("img",{attrs:{src:n("e495")}}),a("button",{staticClass:"iconfont",on:{click:function(e){t.isMack=!1}}},[t._v("")])]):t._e()])},s=[],l=n("5530"),r=n("2f62"),o=void 0,c={data:function(){return{isMack:!0}},methods:Object(l["a"])({},Object(r["c"])(["refreshLabel","refreshList","totalCount"])),computed:Object(l["a"])({},Object(r["d"])(["labelArr","labelList"])),watch:{"this.labelList":function(){o.totalCount()}},created:function(){var t=localStorage.getItem("localLabel");if(t){var e=JSON.parse(t);this.refreshLabel(e)}else{var n=JSON.stringify(this.labelArr);localStorage.setItem("localLabel",n)}var a=localStorage.getItem("localList");if(a){var i=JSON.parse(a);this.refreshList(i)}else if(this.labelList[0]){var s=JSON.stringify(this.labelList);localStorage.setItem("localList",s)}}},u=c,d=(n("034f"),n("2877")),b=Object(d["a"])(u,i,s,!1,null,null,null),f=b.exports,m=n("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"labels"},[n("div",{staticClass:"label burst-view"},[n("ul",t._l(t.labelArr,(function(e,a){return n("li",{key:a,class:{"label-done":e.done},on:{click:function(e){return t.listDone(a)}}},[t._v(t._s(e.name)+" ")])})),0)]),n("div",{staticClass:"add-label"},[n("button",{on:{click:function(e){t.addLabel=!0}}},[t._v("新增标签")])])]),n("div",{staticClass:"tabs"},[n("div",{staticClass:"remarks"},[n("label",{attrs:{for:"remarks-txt"}},[t._v("备注")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.remarksTxt,expression:"remarksTxt"}],attrs:{type:"text",id:"remarks-txt",placeholder:"在这里输入备注",autocomplete:"off"},domProps:{value:t.remarksTxt},on:{input:function(e){e.target.composing||(t.remarksTxt=e.target.value)}}})]),n("div",{staticClass:"tab"},[n("ul",{staticClass:"list"},[n("li",{class:{income:!t.income},on:{click:function(e){t.income=!1}}},[t._v("支出")]),n("li",{class:{income:t.income},on:{click:function(e){t.income=!0}}},[t._v("收入")])]),n("div",{staticClass:"txt"},[n("span",[t._v(t._s(t.num))])])]),n("div",{staticClass:"keyboard"},t._l(t.keyArr,(function(e,a){return n("button",{key:"item"+a,class:{zero:11==a,ok:12==a},on:{click:function(e){return t.addKey(a)}}},[t._v(t._s(e))])})),0)]),n("add-label",{directives:[{name:"show",rawName:"v-show",value:t.addLabel,expression:"addLabel"}],on:{cansel:function(e){return t.addLabel=e}}})],1)},h=[],p=(n("4de4"),n("159b"),n("b0c0"),n("a15b"),n("b680"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add"},[n("div",{staticClass:"box"},[n("h4",[t._v("新增标签")]),n("div",{staticClass:"text"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.confirm.apply(null,arguments)}}},[n("label",{attrs:{for:"addlabel-text"}},[t._v("标签名")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],ref:"text",attrs:{type:"text",id:"addlabel-text",autocomplete:"off",placeholder:"在这里输入标签名"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})])]),n("div",{staticClass:"btn"},[n("button",{on:{click:function(e){return t.$emit("cansel",!1)}}},[t._v("取消")]),n("button",{on:{click:t.confirm}},[t._v("确定")])])])])}),_=[],x=(n("7db0"),{data:function(){return{text:""}},methods:Object(l["a"])(Object(l["a"])({},Object(r["c"])(["addLabel","localData"])),{},{confirm:function(){var t=this,e=this.labelArr.find((function(e){return t.text==e.name}));if(e)alert("已经有相同的标签了"),this.$refs.text.focus();else{var n={name:this.text,done:!1};this.addLabel(n),localStorage.setItem("localLabel",JSON.stringify(this.labelArr)),this.text="",this.$emit("cansel",!1)}}}),computed:Object(l["a"])({},Object(r["d"])(["labelArr"]))}),L=x,O=(n("15b9"),Object(d["a"])(L,p,_,!1,null,"2baf19c9",null)),g=O.exports,k={data:function(){return{income:!1,addLabel:!1,remarksTxt:"",num:"0",keyArr:["1","2","3","删除","4","5","6","清空","7","8","9","OK","0","."]}},computed:Object(l["a"])({},Object(r["d"])(["labelArr","labelList","total"])),components:{"add-label":g},methods:Object(l["a"])(Object(l["a"])({},Object(r["c"])(["refreshLabel","listDone","addLabelList","totalCount"])),{},{addKey:function(t){var e=this,n=0==t||1==t||2==t||4==t||5==t||6==t||8==t||9==t||10==t||12==t,a=function(){"0"==e.num?e.num=e.keyArr[t]:e.num+=e.keyArr[t]};if(17!=this.num.length)if(n)a();else if("."==this.keyArr[t])"0"==this.num?this.num="0.":-1==this.num.indexOf(".")&&(this.num+=".");else if(3==t){if("0"==this.num)return;1==this.num.length?this.num="0":this.num=this.num.substr(0,this.num.length-1)}else if(7==t){if("0"==this.num)return;this.num="0"}else if(11==t){var i=this.labelArr.filter((function(t){return 1==t.done})),s=[];if(0!=i.length&&"0"!=this.num&&"0."!=this.num){function l(e){var n=e,a=e.length-e.indexOf(".")-1;if(e.indexOf(".")>-1)for(t=a;t>0;t--){if(!(n.lastIndexOf("0")>-1&&0==n.substr(n.length-1,1)))return n;var i=n.lastIndexOf("0");if("."==n.charAt(i-1))return n.substring(0,i-1);n=n.substring(0,i)}return e}i.forEach((function(t){s.push(t.name),t.done=!1}));var r={label:s.join(),remarks:this.remarksTxt,income:this.income,number:l(parseFloat(this.num).toFixed(3))};return this.addLabelList(r),localStorage.setItem("localList",JSON.stringify(this.labelList)),console.log(this.labelList),this.remarksTxt="",this.num="0",void alert("添加成功")}return void alert("请选择至少一个标签并且输入金额")}}})},C=k,w=(n("766c"),Object(d["a"])(C,v,h,!1,null,"4f8b0114",null)),j=w.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"label"},[n("div",{staticClass:"list"},[n("ul",t._l(t.labelArr,(function(e,a){return n("li",{key:"item"+a,on:{click:function(n){return t.edit(e,a)}}},[n("span",[t._v(t._s(e.name))]),n("span",{staticClass:"iconfont"},[t._v("")])])})),0)]),n("div",{staticClass:"btn"},[n("button",{on:{click:function(e){t.addLabelShow=!0}}},[t._v("新建标签")])]),n("add-label",{directives:[{name:"show",rawName:"v-show",value:t.addLabelShow,expression:"addLabelShow"}],on:{cansel:function(e){return t.addLabelShow=e}}}),n("edit-label",{directives:[{name:"show",rawName:"v-show",value:t.editShow,expression:"editShow"}],attrs:{index:t.index,labelName:t.labelName},on:{close:function(e){t.editShow=!1}}})],1)},S=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit"},[n("div",{staticClass:"title"},[n("span",{staticClass:"iconfont",on:{click:t.closeed}},[t._v("")]),n("h4",[t._v("编辑标签")])]),n("div",{staticClass:"name"},[n("label",{attrs:{for:"label-name"}},[t._v("标签名")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.test,expression:"test"}],ref:"labelname",attrs:{type:"text",id:"label-name"},domProps:{value:t.test},on:{input:function(e){e.target.composing||(t.test=e.target.value)}}})]),n("div",{staticClass:"btn"},[n("button",{on:{click:function(e){return t.saveData(t.test,t.index)}}},[t._v("保存")]),n("button",{on:{click:function(e){return t.del(t.index)}}},[t._v("删除")])])])},N=[],T={data:function(){return{test:""}},props:["index","labelName"],computed:Object(l["a"])({},Object(r["d"])(["labelArr"])),methods:Object(l["a"])(Object(l["a"])({},Object(r["c"])(["delLabel","changeLabel"])),{},{closeed:function(){this.$emit("close",!1)},del:function(t){this.delLabel(t),alert("删除标签成功"),localStorage.setItem("localLabel",JSON.stringify(this.labelArr)),this.closeed()},saveData:function(t,e){var n=this,a=this.labelArr.find((function(t){return n.text==t.name}));a?(alert("标签名重复"),this.$refs.labelname.focus()):(console.log(t,e),this.changeLabel({test:t,index:e}),localStorage.setItem("localLabel",JSON.stringify(this.labelArr)),alert("保存成功"),this.closeed())}}),watch:{labelName:function(){this.test=this.labelName}}},$=T,E=(n("1b4b"),Object(d["a"])($,A,N,!1,null,"2c65295c",null)),I=E.exports,J={data:function(){return{addLabelShow:!1,editShow:!1,index:0,labelName:""}},computed:Object(l["a"])({},Object(r["d"])(["labelArr"])),components:{"add-label":g,"edit-label":I},methods:{edit:function(t,e){this.editShow=!0,this.index=e,this.labelName=this.labelArr[e].name}}},P=J,D=(n("4682"),Object(d["a"])(P,y,S,!1,null,"69dc2932",null)),M=D.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stati"},[n("header",[n("ul",[n("li",{class:{income:!t.income},on:{click:function(e){t.income=!1}}},[t._v("支出")]),n("li",{class:{income:t.income},on:{click:function(e){t.income=!0}}},[t._v("收入")])])]),n("div",{staticClass:"list-box burst-view"},[t.income?n("div",{staticClass:"income-box"},[t.list?n("div",{staticClass:"empty"},[n("span",[t._v("目前没有相关记录")])]):n("div",{staticClass:"list"},[n("h3",[n("span",[t._v("总收入")]),n("span",[t._v("￥"+t._s(t.incomeTotal))])]),n("ul",{staticClass:"list-li"},t._l(t.incomdeList,(function(e,a){return n("li",{key:"list"+a},[n("span",{staticClass:"burst-view",attrs:{title:e.label}},[t._v(t._s(e.label))]),n("span",{staticClass:"burst-view",attrs:{title:e.remarks}},[t._v(t._s(e.remarks))]),n("span",{staticClass:"burst-view",attrs:{title:e.number}},[t._v("￥"+t._s(e.number))])])})),0)])]):n("div",{staticClass:"expend-box"},[t.list?n("div",{staticClass:"empty"},[n("span",[t._v("目前没有相关记录")])]):n("div",{staticClass:"list"},[n("h3",[n("span",[t._v("总支出")]),n("span",[t._v("￥"+t._s(t.expendTotal))])]),n("ul",{staticClass:"list-li"},t._l(t.expendList,(function(e,a){return n("li",{key:"list"+a},[n("span",{attrs:{title:e.label}},[t._v(t._s(e.label))]),n("span",{attrs:{title:e.remarks}},[t._v(t._s(e.remarks))]),n("span",{attrs:{title:e.number}},[t._v("￥"+t._s(e.number))])])})),0)])])])])},F=[],q={data:function(){return{income:!1,list:!1}},computed:Object(l["a"])(Object(l["a"])({},Object(r["d"])(["labelArr","labelList","total"])),Object(r["b"])(["expendList","incomdeList","expendTotal","incomeTotal"])),methods:Object(l["a"])({},Object(r["c"])(["totalCount"])),created:function(){this.totalCount()}},z=q,H=(n("03d8"),Object(d["a"])(z,K,F,!1,null,"7d2bf545",null)),B=H.exports;a["a"].use(m["a"]);var G=[{path:"/",name:"Home",component:j},{path:"/label",name:"label",component:M},{path:"/stati",name:"stati",component:B}],Q=new m["a"]({routes:G}),R=Q;n("a434");a["a"].use(r["a"]);var U=new r["a"].Store({state:{labelArr:[{name:"衣",done:!1},{name:"食",done:!1},{name:"住",done:!1},{name:"行",done:!1}],labelList:[],total:0},mutations:{addLabel:function(t,e){t.labelArr.push(e)},delLabel:function(t,e){t.labelArr.splice(e,1)},changeLabel:function(t,e){t.labelArr[e.index].name=e.test},refreshLabel:function(t,e){t.labelArr=e},addLabelList:function(t,e){t.labelList.push(e)},listDone:function(t,e){t.labelArr[e].done=!t.labelArr[e].done},refreshList:function(t,e){t.labelList=e},totalCount:function(t){var e=0;t.labelList.forEach((function(t){e*=1e3,e+=1e3*t.number,e/=1e3})),t.total=e,console.log("total"+this.total)}},actions:{},getters:{expendList:function(t){return t.labelList.filter((function(t){return 0==t.income}))},incomdeList:function(t){return t.labelList.filter((function(t){return 1==t.income}))},expendTotal:function(t,e){var n=0;return e.expendList.forEach((function(t){n*=1e3,n+=1e3*t.number,n/=1e3})),n},incomeTotal:function(t,e){var n=0;return e.incomdeList.forEach((function(t){n*=1e3,n+=1e3*t.number,n/=1e3})),n}},modules:{}});n("be35");a["a"].config.productionTip=!1,new a["a"]({router:R,store:U,render:function(t){return t(f)}}).$mount("#app")},"766c":function(t,e,n){"use strict";n("8359")},8359:function(t,e,n){},"85ec":function(t,e,n){},be35:function(t,e,n){},c767:function(t,e,n){},dcac:function(t,e,n){},e495:function(t,e,n){t.exports=n.p+"img/chitu_qrcode.bc0dc399.png"}});
//# sourceMappingURL=app.ab4671e1.js.map